<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS Bot - Advanced Stats</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Rock-Paper-Scissors Bot</h1>
    <p>Select your move:</p>
    <button onclick="play(0)">Rock</button>
    <button onclick="play(1)">Paper</button>
    <button onclick="play(2)">Scissors</button>

    <h2>Results:</h2>
    <p><strong>Your Move:</strong> <span id="userMove">-</span></p>
    <p><strong>Bot's Move:</strong> <span id="botMove">-</span></p>
    <p><strong>Result:</strong> <span id="result">-</span></p>

    <h2>Statistics:</h2>
    <p><strong>Wins:</strong> <span id="wins">{{ stats.wins }}</span></p>
    <p><strong>Losses:</strong> <span id="losses">{{ stats.losses }}</span></p>
    <p><strong>Ties:</strong> <span id="ties">{{ stats.ties }}</span></p>
    <p><strong>Win Rate:</strong> <span id="winRate">0%</span></p>
    <p><strong>Total Games:</strong> <span id="totalGames">{{ stats.total_games }}</span></p>
    <p><strong>Max Win Streak:</strong> <span id="maxStreak">{{ stats.max_streak }}</span></p>

    <script>
        function play(move) {
            $.post('/play', { move: move }, function(response) {
                $("#userMove").text(response.user_move);
                $("#botMove").text(response.bot_move);
                $("#result").text(response.result);
                $("#wins").text(response.wins);
                $("#losses").text(response.losses);
                $("#ties").text(response.ties);
                $("#winRate").text(response.win_rate);
                $("#totalGames").text(response.total_games);
                $("#maxStreak").text(response.max_streak);
            });
        }
    </script>
</body>
</html>
